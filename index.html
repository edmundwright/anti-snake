<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Edmund Wright</title>
  <link rel="stylesheet" href="css/reset.css" type="text/css">
  <link rel="stylesheet" href="css/style.css" type="text/css">
</head>
<body>

<main class="group"></main>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
</script>
<script src="js/segment.js"></script>

<script>
  var $main = $("main");

  var word = "Edmund WrightJKJK";
  var numRows = 13;
  var numCols = 24;
  var firstPos = [6, 2];
  var delta = [0, 1];

  for (var row = 0; row < numRows; row++) {
    for (var col = 0; col < numCols; col++) {
      var $section = $("<section></section>");
      $section.data("pos", [row, col]);
      $main.append($section);
    }
  }

  var Snake = function (word, firstPos, delta) {
    this.word = word;

    this.segments = []

    for (letterIdx = 0; letterIdx < this.word.length; letterIdx++) {
      var thisPos = [
        firstPos[0] + letterIdx * delta[0],
        firstPos[1] + letterIdx * delta[1]
      ];

      this.segments.push(new SnakeGame.Segment(this.word[letterIdx], thisPos));
    }
  };

  Snake.prototype.segmentOnPos = function (pos) {
    for (var i = 0; i < this.segments.length; i++) {
      if (this.segments[i].pos[0] === pos[0] && this.segments[i].pos[1] === pos[1]) {
        return this.segments[i];
      }
    }
  };

  var snake = new Snake(word, firstPos, delta);

  console.log(snake);

  $("section").each(function () {
    var segmentHere = snake.segmentOnPos($(this).data('pos'));
    if (segmentHere) {
      $(this).toggleClass("snake");
      $(this).text(segmentHere.letter);
    }
  })
</script>

</body>
</html>
